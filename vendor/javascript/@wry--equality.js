// @wry/equality@0.5.7 downloaded from https://ga.jspm.io/npm:@wry/equality@0.5.7/lib/index.js

const{toString:e,hasOwnProperty:t}=Object.prototype;const r=Function.prototype.toString;const n=new Map;function equal(e,t){try{return check(e,t)}finally{n.clear()}}function check(n,a){if(n===a)return true;const s=e.call(n);const o=e.call(a);if(s!==o)return false;switch(s){case"[object Array]":if(n.length!==a.length)return false;case"[object Object]":{if(previouslyCompared(n,a))return true;const e=definedKeys(n);const r=definedKeys(a);const c=e.length;if(c!==r.length)return false;for(let r=0;r<c;++r)if(!t.call(a,e[r]))return false;for(let t=0;t<c;++t){const r=e[t];if(!check(n[r],a[r]))return false}return true}case"[object Error]":return n.name===a.name&&n.message===a.message;case"[object Number]":if(n!==n)return a!==a;case"[object Boolean]":case"[object Date]":return+n===+a;case"[object RegExp]":case"[object String]":return n==`${a}`;case"[object Map]":case"[object Set]":{if(n.size!==a.size)return false;if(previouslyCompared(n,a))return true;const e=n.entries();const t="[object Map]"===s;while(true){const r=e.next();if(r.done)break;const[n,c]=r.value;if(!a.has(n))return false;if(t&&!check(c,a.get(n)))return false}return true}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":n=new Uint8Array(n);a=new Uint8Array(a);case"[object DataView]":{let e=n.byteLength;if(e===a.byteLength)while(e--&&n[e]===a[e]);return-1===e}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const e=r.call(n);return e===r.call(a)&&!endsWith(e,c)}}return false}function definedKeys(e){return Object.keys(e).filter(isDefinedKey,e)}function isDefinedKey(e){return void 0!==this[e]}const c="{ [native code] }";function endsWith(e,t){const r=e.length-t.length;return r>=0&&e.indexOf(t,r)===r}function previouslyCompared(e,t){let r=n.get(e);if(r){if(r.has(t))return true}else n.set(e,r=new Set);r.add(t);return false}export{equal as default,equal};

